# init animate plush phase two

#sound
playsound minecraft:entity.generic.eat block @a ~ ~ ~ 1 1.4

#init armorstand (with rotation)
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_wall_head[facing=north] run summon minecraft:armor_stand ~ ~-1.23 ~0.2 {Rotation:[180.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_wall_head[facing=east] run summon minecraft:armor_stand ~-0.2 ~-1.23 ~ {Rotation:[270.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_wall_head[facing=south] run summon minecraft:armor_stand ~ ~-1.23 ~-0.2 {CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_wall_head[facing=west] run summon minecraft:armor_stand ~0.2 ~-1.23 ~ {Rotation:[90.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=0] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[180.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=1] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[202.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=2] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[225.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=3] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[247.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=4] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[270.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=5] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[292.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=6] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[315.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=7] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[337.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=8] run summon minecraft:armor_stand ~ ~-1.4 ~ {CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=9] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[22.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=10] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[45.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=11] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[67.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=12] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[90.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=13] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[112.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=14] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[135.0f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}
execute align xyz positioned ~0.5 ~ ~0.5 if block ~ ~ ~ minecraft:player_head[rotation=15] run summon minecraft:armor_stand ~ ~-1.4 ~ {Rotation:[157.5f, 0.0f],CustomName:'{"text":"Plush Pet"}',DisabledSlots:4144959,Invulnerable:1b,Invisible:1b,NoGravity:1b,NoBasePlate:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b}],Tags:["plushpets.plush_entity","plushpets.plush_pet","plushpets.plush_pet_init","plushpets.right_click_delay"]}

#set head
data modify entity @e[type=minecraft:armor_stand,tag=plushpets.plush_pet_init,limit=1] ArmorItems[3].tag.SkullOwner set from block ~ ~ ~ SkullOwner

#particle
execute at @e[type=minecraft:armor_stand,tag=plushpets.plush_pet_init,limit=1] positioned ~ ~0.5 ~ positioned ^ ^ ^0.5 run particle minecraft:item minecraft:glistering_melon_slice ~ ~1.4 ~ 0 0 0 0.1 10 normal

#remove block
setblock ~ ~ ~ minecraft:air

#tie plush to player
scoreboard players operation @e[type=minecraft:armor_stand,tag=plushpets.plush_pet_init,limit=1] plushpets.ownerID = @a[tag=plushpets.right_clicker] plushpets.ID
execute as @e[type=minecraft:armor_stand,tag=plushpets.plush_pet_init,limit=1] run function plushpets:utility/init_plushpets_id

#remove glistering melon
clear @a[tag=plushpets.right_clicker,gamemode=!creative] minecraft:glistering_melon_slice 1

#kill
kill @s[type=minecraft:item]
kill @e[type=minecraft:area_effect_cloud,tag=plushpets.weakness_effect,limit=1,sort=nearest]

#reset
tag @e[type=minecraft:armor_stand,tag=plushpets.plush_pet_init] remove plushpets.plush_pet_init